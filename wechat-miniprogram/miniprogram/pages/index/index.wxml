<view class="page">
  <view class="header">
    <view class="title">场景列表</view>
  </view>

  <scroll-view scroll-y="true" class="scene-list">
    <block wx:for="{{sceneOptions}}" wx:key="id">
      <view
        class="scene-item"
        bindtap="handleSelectScene"
        data-id="{{item.id}}"
      >
        <text class="scene-name">{{item.name}}</text>
        <text class="scene-meta">{{item.summary}}</text>
      </view>
    </block>
  </scroll-view>

  <view class="import-row">
    <button bindtap="handleChooseLocal" size="mini" type="default">本地 JSON</button>
    <view class="url-form">
      <input
        class="url-input"
        value="{{sceneUrl}}"
        placeholder="输入场景 JSON URL"
        placeholder-class="url-placeholder"
        bindinput="handleUrlInput"
        bindconfirm="handleLoadFromUrl"
        confirm-type="go"
      />
      <button bindtap="handleLoadFromUrl" type="primary" size="mini">加载</button>
    </view>
  </view>

  <view class="cache-row">
    <view class="cache-info">{{cacheStatus}}</view>
    <button bindtap="handleClearCache" size="mini" type="warn">清理缓存</button>
  </view>

  <view class="status" wx:if="{{statusMessage}}">{{statusMessage}}</view>
</view>
