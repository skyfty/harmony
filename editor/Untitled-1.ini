将/home/sky/harmony/schema/sceneGraph.ts中的ResourceCache类独立成一个单独的ts文件， 放置在/home/sky/harmony/schema目录下，并更新对其引用

resourceCache做为SceneGraphBuilder的成员变量是不合理的，应该从外部调用传入resourceCache实例，resourceCache的实例应该由/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue维护其实例变量，以便重复使用缓存的资源， 更新SceneGraphBuilder的构造函数以接受一个ResourceCache参数，并更新所有对SceneGraphBuilder的实例化代码以传入ResourceCache实例

设置OrbitControls控制相机只能水平旋转，禁止垂直旋转， 一直保持平视

在/home/sky/harmony/editor/src/components/common/AddNodeMenu.vue中加一个菜单项 "Warp Gate",时空之门，点击后在场景中添加一个时空之门节点，这个场景节点的创建参考handleCreateViewPointNode函数的实现，需要设置ignoreGridSnapping为true，以便时空之门节点可以放置在任意位置，不受网格吸附的限制，暂时用CircleGeometry来表示时空之门节点的视觉效果，半径1米，颜色紫色，材质为MeshBasicMaterial，设置side为DoubleSide以便从两面都能看到， 默认位置参考handleCreateViewPointNode函数的实现，但是要放置在地面上方0.5米处
 为Warp Gate节点自动增加BehaviorComponent行为组件， 并为该组件添加如下Events事件：
 a. click事件：Behavior名称为 "Click " + 父节点名称，为此事件添加如下脚本序列
    1. moveTo:目标节点为组件挂载的节点本身，
    2.watch:目标节点为在同一个父节点下的第一个viewPoint为true的节点，没有ViewPoint节点则将父节点作为目标节点，否则不设置目标节点
b.approach事件：Behavior名称为 "Approach " + 父节点名称，为此事件添加如下脚本序列
    1.hide:目标节点为组件挂载的节点本身
    2.showPurpose:目标节点为在同一个父节点下的第一个viewPoint为true的节点，没有ViewPoint节点则将父节点作为目标节点，否则不设置目标节点
    3.trigger:目标节点为在同一个父节点下的第一个viewPoint为true的节点，没有ViewPoint节点则将父节点作为目标节点，否则不设置目标节点,Target Behavior的目标节点的perform类型事件名称为 "Show View Point"

c. depart事件：Behavior名称为 "Depart " + 父节点名称，为此事件添加如下脚本序列
    1.show:目标节点为组件挂载的节点本身
    2.hidePurpose:目标节点为在同一个父节点下的第一个viewPoint为true的节点，没有ViewPoint节点则将父节点作为目标节点，否则不设置目标节点
    3.trigger:目标节点为在同一个父节点下的第一个viewPoint为true的节点，没有ViewPoint节点则将父节点作为目标节点，否则不设置目标节点,Target Behavior的目标节点的perform类型事件名称为 "Hide View Point"




当handleCreateViewPointNode函数创建一个新的View Point节点时自动增加BehaviorComponent行为组件， 并为该组件添加如下Events事件：
a. 一个BehaviorEventType类型为perform，Behavior名称为 "Show View Point"的事件，为此事件添加如下脚本序列
    1 show:目标节点为在同一个父节点下的第一个名称为Guideboard的节点，没有VGuideboard节点则不设置目标节点
b. 一个BehaviorEventType类型为perform，Behavior名称为 "Hide View Point"的事件，为此事件添加如下脚本序列
    1 hide:目标节点为在同一个父节点下的第一个名称为Guideboard的节点，没有Guideboard节点则不设置目标节点


在/home/sky/harmony/editor/src/components/common/AddNodeMenu.vue中加一个菜单项 "Guideboard",路标，点击后在场景中添加一个路标节点，这个场景节点的创建参考handleCreateViewPointNode函数的实现，需要设置ignoreGridSnapping为true，以便路标节点可以放置在任意位置，不受网格吸附的限制，暂时用SphereGeometry来表示路标节点的视觉效果，半径1米，颜色紫色，材质为MeshBasicMaterial，设置side为DoubleSide以便从两面都能看到，Guideboard节点的默认位置为在同一个父节点下的第一个View Point节点的位置， 没有View Point节点则放置在父节点的中心位置，x轴正向方向，处在父节点的外部
 为Guideboard节点自动增加BehaviorComponent行为组件， 并为该组件添加如下Events事件：
a. click事件：Behavior名称为 "Show Lantern"的事件，为此事件添加如下脚本序列
    1.lantern:幻灯片展示，


在/home/sky/harmony/editor/src/components/common/AddNodeMenu.vue中加一个子弹出菜单项 "Showcase"， 将Warp Gate，View Point，Guideboard三个菜单项放在Showcase子菜单下，以便更好地组织这些场景节点的创建菜单项，同时在Showcase子菜单中新增一个菜单项 "Visit",点击后在场景中依次添加一个Warp Gate节点，一个View Point节点和一个Guideboard节点，这三个节点的创建参考各自的实现函数，

在执行菜单项 "Showcase"命令时需要先添加Guideboard，然后增加ViewPoint，最后增加Warp Gate节点，以确保场景中节点的层级关系正确，并能正确关联各自的Behavior事件

在执行Showcase，Guideboard，Warp Gate，ViewPoint向场景中添加节点的操作后，保存时提示如下为错误
EditorView.vue:720 Failed to save current scene DataCloneError: Failed to execute 'put' on 'IDBObjectStore': #<Object> could not be cloned.
    at writeSceneDocument (scenesStore.ts:106:8)
    at async Proxy.saveSceneDocument (scenesStore.ts:223:7)
    at async Proxy.saveActiveScene (sceneStore.ts:7058:7)
    at async EditorView.vue:714:24
    at async handleAction (EditorView.vue:770:7)
修复这个问题并中文回复


在从ProjectPanel向场景编辑器拖动添加场景节点，或从url与file导入模型资源到场景编辑器时， 场景中的模型有有一部分下沉到地面以下， 导致模型显示不完整， 但是是在拖动预览模型时是正确的， 需要修正这个问题，确保导入的模型正确放置在地面以上

在添加Guideboard节点时，默认设置其场景节点为隐藏状态，只在/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue中为隐藏状态， 以便在场景预览时不默认显示路标节点，但是在编辑器中可以看到路标节点以便进行编辑

http://v.touchmagic.cn/Untitled.glb


不要使用isGuideboardSceneNode函数中通过名称来判断是否是Guideboard节点， 因为用户可以修改节点名称， 导致判断失效， 应该通过节点的某个自定义属性来判断， 在每个节点的userData属性中增加一个isGuideboard属性， 设置为true表示是路标节点， 否则不是

不为节点添加isGuideboard属性，来判断是否是路标节点。 而是在/home/sky/harmony/schema/components/definitions目录下实现一个guideboardComponent组件来为一个场景节点增加路标节点的特征和属性， 通过判断场景节点是否包含guideboardComponent组件来判断是否是路标节点， 同时为guideboardComponent组件一个“初始可见”参数， 用于控制节点在场景预览时的初始可见性，同时在/home/sky/harmony/editor/src/components/inspector目录下实现对应的参数配置面板， 更新相关代码实现和/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue文件中的相关引用和逻辑， 同时移除isGuideboard属性和相关代码。同时在创建Guideboard节点时自动为其添加guideboardComponent组件，并设置“初始可见”参数为false， 其逻辑与/home/sky/harmony/schema/components/definitions/wallComponent.ts类似

handleCreateViewPointNode函数创建 View Point时， 为其添加一个viewPointComponent组件，通过判断场景节点是否包含viewPointComponent组件来判断是否是View Point节点， 同时在/home/sky/harmony/editor/src/components/inspector目录下实现对应的参数配置面板， 更新相关代码实现和/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue文件中的相关引用和逻辑，其逻辑与/home/sky/harmony/schema/components/definitions/guideboardComponent.ts类似

viewPointComponent组件没有initiallyVisible参数，去掉相关代码。

handleCreateWarpGateNode函数创建 Warp Gate时， 为其添加一个warpGateComponent组件，通过判断场景节点是否包含warpGateComponent组件来判断是否是Warp Gate节点， 同时在/home/sky/harmony/editor/src/components/inspector目录下实现对应的参数配置面板， 更新相关代码实现和/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue文件中的相关引用和逻辑，其逻辑与/home/sky/harmony/schema/components/definitions/guideboardComponent.ts类似，warpGateComponent组件没有initiallyVisible参数


可以直接将图片资源从ProjectPanel面板中拖动到MaterialPanel.vue面板中的material-list列表项上，以便为材质设置纹理贴图，支持拖动的图片资源包括png，jpg，jpeg，gif等常见图片格式，更新MaterialPanel.vue文件中的相关代码实现该功能，直接替换此材质的Albedo贴图，更新材质预览，同时更新材质数据，并标记场景为已修改状态以便保存

在执行Showcase，Guideboard，Warp Gate，ViewPoint向场景中添加节点的操作后，需要设置默认材质的Side为DoubleSide，以便从两面都能看到节点的视觉效果，更新相关代码实现

handleCreateWarpGateNode函数创建 Warp Gate节点时，需要把节点放置在地面上方0.5米处，

没有效果， 可能是定位有问题， 可能定位使用的是相对于父节点的位置， 需要修正这个问题，确保Warp Gate节点对地面的位置是相对于世界坐标系的


在/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue和/home/sky/harmony/editor/src/components/editor/SceneViewport.vue文件的为场景添加THREE.DirectionalLight光源，并设置Sky 显示的太阳方向和实际光源方向就一致，使场景光线显得非常自然。

 MoveToBehaviorParams中的参数speed修改成时间单位，表示从相机当前位置移动到目标位置所需要的时间，单位秒，可设置成小数，默认为0.2秒。这样可以让相机移动的时间保持一致，而不是距离近的移动快，距离远的移动慢。修改相关代码和/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue文件中的相关引用和逻辑

 加一个子弹出菜单项 "Showcase"， 将Warp Gate，View Point，Guideboard三个菜单项放在Showcase子菜单下，以便更好地组织这些场景节点的创建菜单项，同时在Showcase子菜单中新增一个菜单项 "Visit",点击后在场景中依次添加一个Warp Gate节点，一个View Point节点和一个Guideboard节点，这三个节点的创建参考各自的实现函数，

 handleCreateShowcaseVisit函数在创建

 执行菜单项 "Showcase"命令 handleCreateShowcaseVisit函数时需要先在选中节点下创建一个Empty节点，然后在该Empty节点名称为"Showcase"，位置在选中节点的中心点，将其添加到场景中，然后将Guideboard，ViewPoint，Warp Gate节点依次添加到该Showcase节点下， 以确保场景中节点的层级关系正确，并能正确关联各自的Behavior事件

 在/home/sky/harmony/editor/src/components/common/AddNodeMenu.vue中添加Guideboard，ViewPoint，Warp Gate节点时不在限制是否选中节点， 可以直接添加到场景的根节点下， 在单独添加Guideboard，ViewPoint，Warp Gate节点时， 只自动增加BehaviorComponent行为组件， 并不自动增加Behavior事件， 只有在通过Showcase菜单项添加时才自动增加各自的Behavior事件和脚本序列，Showcase菜单项只有在选中节点时才可用，如果没有选中节点则禁用该菜单项

 在/home/sky/harmony/editor/src/components/common/AddNodeMenu.vue中添加Guideboard，ViewPoint，Warp Gate节点时不要自动展开/home/sky/harmony/editor/src/components/layout/InspectorPanel.vue中的TransformPanel.vue面板

 不要将Guideboard，ViewPoint，Warp Gate节点添加到Showcase节点下， 直接添加到选中节点下即可，去掉Showcase节点的创建逻辑

场景中会包含一些复杂的模型资源， 比如glb, obj, fbx等格式的模型资源， 这些模型资源可能包含很多的点的面，以及纹理等数据。 在场景展示时需要花费很长时间下载和解析这些复杂的模型资源。 所以在sanitizeSceneDocumentForJsonExport函数执行导出场景JSON时， 需要为每个这样模型资源从复杂模型自动生成极简轮廓网格，这些网络只包含模型的基本轮廓的点面数据，并直接保存到导出的场景JSON文件中，以便在场景预览时先在模型的对应位置显示这个轮廓网格，提供基本视觉效果， 然后在适当的时机（如相机视野在靠近模型一定的距离时）再异步下载模型资源并替换轮廓网格，提高场景的初始加载速度和用户体验。 提取轮廓网格只在sanitizeSceneDocumentForJsonExport函数中进行， 不修改原始的场景数据结构，并提供参数选项以控制是否生成轮廓网格， 默认启用该选项。 轮廓网格的材质为MeshBasicMaterial，颜色为灰色， 不受场景光照影响。可使用three/examples/jsm/geometries/ConvexGeometry.js来实现此功能。 并在/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue和/home/sky/harmony/editor/src/views/ScenePreviewView.vue中实现轮廓网格的加载和显示逻辑， 以及在适当时机异步下载真实模型并将轮廓模型替换为真实模型的逻辑。

因为复杂模型都是由packageAssetMap提供的，不需要为每个节点都生成一份极简轮廓网格， 可以仿照packageAssetMap的结构， 实现一个outlineMeshMap数据结构， 只为每个复杂模型资源生成一份极简轮廓网格， 然后在场景节点中使用sourceAssetId引用这个轮廓网格资源即可， 避免重复生成和保存大量重复的轮廓网格数据，节省场景JSON文件的大小


/home/sky/harmony/schema/sceneGraph.ts文件中buildGroupNode函数在处理极简轮廓网格时没有正确处理，因为这个类型（Grouop）的节点也会包含sourceAssetId属性所引用的复杂模型资源， 在场景加载时执行build函数在调用到buildGroupNode时直接调用了loadAssetMesh函数等待资源的下载缓存，这会导致场景加载变慢， 需要修正这个问题，确保buildGroupNode函数正确处理极简轮廓网格的加载逻辑， 直接从outlineMeshMap中获取对应的轮廓网格资源， 避免等待复杂模型资源的下载和解析

对于由buildGroupNode函数创建的Group类型节点， 是将placeholder做为了子节点添加到Group节点下，这样导致initializeLazyPlaceholders函数无法正确处理这些占位符节点， 需要修正这个问题，确保initializeLazyPlaceholders函数能够正确处理Group类型节点下的占位符节点， 并在适当时机异步下载真实模型并将轮廓模型替换为真实模型的逻辑。 更新相关代码实现

生成的轮廓网格数据的点还是比较多， 导致场景JSON文件还是比较大， 需要优化轮廓网格的生成逻辑， 进一步减少点和面数据， 以便显著减少场景JSON文件的大小， 提高场景的加载速度和用户体验

在/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue中需要为轮廓网格模型设置一下半透明效果， 以便更好地区分轮廓网格和真实模型， 提高用户体验


在通过Showcase菜单项添加Warp Gate节点时自动为其节点的脚本序列中增加一个Level Look脚本

在/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue或/home/sky/harmony/editor/src/views/ScenePreviewView.vue中对轮廓网格模型替换为真实网格模型的时机进行优化，当从相机视角能看到轮廓网格模型时就开始异步下载真实模型并替换，而不是等到相机靠近一定距离时才下载替换，以便更快地显示真实模型，提高用户体验


/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue页面中在执行Watch脚本的时候没有正确设置仰视角， 导致相机视角不正确， 需要修正这个问题，确保执行Watch脚本时正确设置相机的仰视角度。 相机的仰视俯视角度的限制只做为OrbitControls的限制， 不影响脚本执行时对相机角度的设置

实现逻辑不对， 在执行完Watch脚本后， 相机视角从仰视角变成了平视角， 需要修正这个问题。不是要将相机的仰视俯视角度设置为固定值（水平）， 而是禁止用户调整相机的仰视俯视角度，相机的俯视仰角度会由脚本控制。

/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue中需要在左下角显示purpose-controls按钮组，可以参考/home/sky/harmony/editor/src/views/ScenePreviewView.vue中scene-preview__purpose-controls的相关实现，并实现按钮组的功能逻辑

/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue中的幻灯片展示中， 去掉取消，继续按钮， 在右上角只保留关闭按钮， 幻灯片展示时禁止用户交互操作， 只能通过关闭按钮退出幻灯片展示模式。
因为是在移动设备上，不要用上一页，下一页按钮控制幻灯片展示的翻页， 而是通过左右滑动手势来控制幻灯片展示的翻页， 实现相关逻辑。
purpose-controls面板中的按钮换成图标按钮， 



/home/sky/harmony/miniprogram/src/pages/scene-viewer/index.vue中的幻灯片展示中， 去掉取消，继续按钮， 在右上角只保留关闭按钮， 幻灯片展示时禁止用户交互操作， 只能通过关闭按钮退出幻灯片展示模式。
因为是在移动设备上，不要用上一页，下一页按钮控制幻灯片展示的翻页， 而是通过左右滑动手势来控制幻灯片展示的翻页， 实现相关逻辑。
purpose-controls面板中的按钮换成图标按钮， 



生成的轮廓网格数据的点还是比较多， 导致场景JSON文件还是比较大， 需要优化轮廓网格的生成逻辑， 进一步减少点和面数据， 同时保留3位小数精度， 以便显著减少场景JSON文件的大小， 提高场景的加载速度和用户体验


buildOutlineMeshFromObject中可否直接保存ConvexGeometry生成的网格数据， 而不是保存成点和面数据， 以便减少场景JSON文件的大小， 提高场景的加载速度和用户体验


实现LoadView.vue页面， 作为场景编辑器的加载页面， 在加载场景数据时先显示进度条组件， 提高用户体验， 更新路由配置以将LoadView.vue作为默认路由页面， 先显示加载页面， 等待场景数据加载完成后再自动从加载组件切换到切换到EditorView.vue页面， 使用Vue的动态组件<component :is="currentComponent">实现组件切换

需要在LoadView.vue页中等待editor/src/utils/piniaPersist.ts文件中的hydrate函数执行完成后再切换到EditorView.vue页面， 确保场景数据正确加载完成

在server和miniprogram子工程下增加一个test账号， 密码test1234， 以便测试使用。 默认miniprogram自动登录test账号， server子工程下实现test账号的注册逻辑， 确保test账号可以正常登录使用

在/home/sky/harmony/miniprogram/src/pages/upload/index.vue中添加

由于名称命名错误，需要将miniprogram子工程和server子工程中的upload的相关名称修改为work,

/home/sky/harmony/miniprogram/src/pages/work/index.vue中选择文件后打开作品集编辑界面miniprogram/src/pages/collections/edit/index.vue后点击“创建并保存”按钮后， 需要将编辑的作品集信息和被选择的文件上传到服务器， 上传功能没有实现， 需要实现该功能， 提交到服务器并创建对应的作品集和Work记录， 返回作品集对象后，打开作品集详情页面， 

/home/sky/harmony/miniprogram/src/pages/work/index.vue中选择文件后打开作品集编辑界面miniprogram/src/pages/collections/edit/index.vue中并没有显示被选择的图片文件的缩略图， 需要实现该功能， 确保在作品集编辑界面中正确显示被选择的文件列表

/home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue中，无法完全删除作品集标题title， 清空输入框后会自动补回默认标题"未命名作品集"， 需要修正这个问题， 允许用户清空标题输入框， 不强制设置默认标题

点击创建并保存按钮后，


/home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue作品集编辑界面中preview区域修改为作品集封面区域， 只显示作品集的第一个作品的缩略图作为封面， 也可以从本地选择一张图片作为封面， 需要实现该功能， 更新相关代码实现。
在/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue页面中显示作品集封面图片， 需要实现该功能， 更新相关代码实现。

/home/sky/harmony/miniprogram/src/pages/work/index.vue页面中的创作记录只显示最近的3条记录

/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue页面需要通过路由参数获取作品集ID， 然后从服务器获取对应的作品集数据并显示，不要从worksStore中获取， 需要实现该功能， 更新相关代码实现

无法从从server获取图片资源， 通过console报错Request URL
http://localhost:4000/uploads/OXqCw2KJYfb-tLty.png
Request Method
GET
Status Code
404 Not Found
Referrer Policy
strict-origin-when-cross-origin

在作品集合详情页面/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue不可编辑作品集信息， 需要实现该功能， 只有作品集/home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue页面才可编辑作品集信息， 如何当前作品集的所有人是登陆用户，则在/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue页面中右上角显示编辑按钮， 点击后跳转到作品集编辑页面。 /home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue页面中要既可以创建新的作品集， 也可以编辑已有的作品集， 需要实现该功能， 更新相关代码实现。
查看作品集信息，展览信息， 作品信息均可以通过id直接从服务器获取， 不需要从worksStore中获取，而且服务端不需要验证权限，因为这些信息任何其他用户均可就查看。 喜欢、评分也不需要验证权限， 需要实现该功能， 更新相关代码实现， 
需要为作品（work)增加一个编辑页面， 通过路由参数获取作品ID， 然后从服务器获取对应的作品数据并显示在编辑页面中， 允许用户编辑作品的标题，描述，增删所属作品集等信息， 并保存到服务器， 更新相关代码实现。


在/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue、/home/sky/harmony/miniprogram/src/pages/works/detail/index.vue页面中增加一个编辑按钮， 只有当当前登录用户是作品集或作品的所有者时才显示该编辑按钮， 点击后跳转到对应的编辑页面， 需要实现该功能， 更新相关代码实现。

将/home/sky/harmony/miniprogram/src/pages/work/index.vue页面移动到/home/sky/harmony/miniprogram/src/pages/works目录下，并命名为indite.vue,将/home/sky/harmony/miniprogram/src/pages/work/records目录下的文件移动到/home/sky/harmony/miniprogram/src/pages/works/records目录下， 并更新相关代码引用。 并删除/home/sky/harmony/miniprogram/src/pages/work目录

/home/sky/harmony/miniprogram/src/pages/works/indite.vue页面中去掉创作记录区域，增加作品集模块，显示最近创建的3个作品集， 点击作品集打开作品集详情页面， 在此模块中增加一个“查看更多”按钮， 点击后跳转到作品集列表页面/home/sky/harmony/miniprogram/src/pages/collections/index.vue， 需要实现该功能， 更新相关代码实现。作品集和作品列表均需要在线获取。不要用worksStore中的缓存数据。

现在打开miniprogram时是自动登录到test账号吗？

/home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue页面中没有显示出已经有的作品集列表， 已有作品集也要从服务端获取，获取当前用户的作品集列表，以便将作品可以选择加入。 修复这个问题
/home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue中在没有提交时也可以选择将当前提交的作品加入已有的作品集，当选择一个已经存在的作品集时，就自动提交的图片上传到服务端，并将作品添加到该作品集中，提交完毕后， 自动打开，该作品集的详情页面。需要实现该功能， 更新相关代码实现。


/home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue页中的可以点击“刚创作的作品“模块中的作品缩略图， 用浮动层的形式显示作品的大图预览， 名称，描述信息，并可以编辑名称和描述信息，提供一个删除按钮， 点击后将该作品从当前刚创作的作品列表中删除， 浮动层可左右滑动浏览“刚创作的作品“列表中的其他作品， 并可以依次编辑每个作品的信息，提供一个关闭按钮，关闭浮动层。 在 /home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue页中点击”创建并保存“或是选择了一个”加入“作品集时， 将提交的作品图片和作品数据上传到服务器， 需要实现该功能， 更新相关代码实现。

preview-overlay显示在了下面， 没有浮动显示， 需要修正这个问题， 确保preview-overlay浮动显示在最上层。 
浮动层里啥 也没有， 需要显示作品的大图预览， 名称，描述信息，并可以编辑名称和描述信息，提供一个删除按钮， 点击后将该作品从当前刚创作的作品列表中删除， 浮动层可左右滑动浏览“刚创作的作品“列表中的其他作品， 并可以依次编辑每个作品的信息，提供一个关闭按钮，关闭浮动层


/home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue中可以编辑“刚创作的作品”列表中每个作品的名称和描述信息， 并可以删除某个作品， 需要实现该功能， 更新相关代码实现。在提交后可以将作品和作品集信息上传到服务器。 
点击缩略图后通过弹出窗口显示作品的大图预览， 名称，描述信息，并可以编辑名称和描述信息。

在浮动窗口中的左右滑动浏览“刚创作的作品“列表中的其他作品， 并可以依次编辑每个作品的信息
浮动窗口的关闭按钮不太明显， 需要修正这个问题， 提高关闭按钮的可见性和用户体验
点击删除按钮删除作品时不需要二次确认， 直接删除即可， 需要修正这个问题， 提高用户体验

当作品列表为空时加一个按钮“添加作品”， 点击后跳转到/home/sky/harmony/miniprogram/src/pages/works/indite.vue页面， 需要实现该功能， 更新相关代码实现

/home/sky/harmony/miniprogram/src/pages/works/detail/index.vue页面中实现评分功能， 用户可以对作品进行评分， 评分范围1到5星，  需要实现该功能， 更新相关代码实现， 提交评分到服务器并更新显示的平均评分值。
/home/sky/harmony/miniprogram/src/pages/works/detail/index.vue页面中实现喜欢功能， 用户可以对作品进行喜欢或取消喜欢， 需要实现该功能， 更新相关代码实现， 提交喜欢状态到服务器并更新显示的喜欢数量。
/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue页面中实现喜欢功能， 用户可以对作品集进行喜欢或取消喜欢， 需要实现该功能， 更新相关代码实现， 提交喜欢状态到服务器并更新显示的喜欢数量。
/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue页面中实现评分功能， 用户可以对作品集进行评分，评分范围1到5星，  需要实现该功能， 更新相关代码实现， 提交评分到服务器并更新显示的平均评分值。
评分的功能需要弹出评分选择窗口， 用户选择1到5星中的一个星级后再提交评分， 需要实现该功能， 更新相关代码实现
星星图标和心性图标放大， 去掉推荐观看时长模块

不要单独增加engage-card模块来操作喜欢和评分，在stats-card模块中直接实现喜欢和评分的功能， 更新相关代码实现

/home/sky/harmony/miniprogram/src/pages/collections/edit/index.vue页面在新建作品集时，不显示评分和喜欢模块， 只有在编辑已有作品集时才显示评分和喜欢模块， 需要实现该功能， 更新相关代码实现
作品集合服务端实现作品集的喜欢和评分功能， 需要实现该功能， 更新相关代码实现， 包括增加对应的数据库表结构和API接口等
展览服务端实现展览的喜欢和评分功能， 需要实现该功能， 更新相关代码实现， 包括增加对应的数据库表结构和API接口等
/home/sky/harmony/miniprogram/src/pages/home/index.vue中的评分和喜欢文字都换成图标显示

/home/sky/harmony/miniprogram/src/pages/works/detail/index.vue页面样式和/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue页面样式保持一致。 现在/home/sky/harmony/miniprogram/src/pages/works/detail/index.vue页面样式和布局比较混乱， 需要修正这个问题， 更新相关代码实现。 首页的评分和喜欢图标，如果已经有喜欢或评分状态， 则显示为高亮状态， 否则显示为灰色状态

实现/pages/collections/index.vue页面. 显示登陆用户的作品集列表， 使用瀑布流， 需要实现该功能， 更新相关代码实现。 作品集列表数据从服务器获取， 不要使用worksStore中的缓存数据

/home/sky/harmony/miniprogram/src/pages/works/index.vue页面中实现作品列表的瀑布流布局， 需要实现该功能， 更新相关代码实现。 作品列表数据从服务器获取， 不要使用worksStore中的缓存数据。 
/pages/collections/index.vue页面和/home/sky/harmony/miniprogram/src/pages/works/index.vue页面中的瀑布流布局中的项目要依据页面宽度自适应调整列数，尽量占用更多的宽度空间， 提高用户体验

/home/sky/harmony/miniprogram/src/pages/exhibition/create/index.vue中去掉展览时间，展览地点信息。上传封面图片可以选择多张图片， 作为展览的轮播封面图片，
提供一个选择作品集的功能， 允许用户选择多个作品集加入到展览中，提交成功后打开展览详情页面， 需要实现该功能， 更新相关代码实现。
/home/sky/harmony/miniprogram/src/pages/exhibition/index.vue页面中实现展览列表的瀑布流布局， 需要实现该功能， 更新相关代码实现。 展览列表数据从服务器获取。
点击展览项目后打开展览详情页面/home/sky/harmony/miniprogram/src/pages/exhibition/detail/index.vue， 需要实现该功能， 更新相关代码实现。 展览详情数据从服务器获取。
/home/sky/harmony/miniprogram/src/pages/exhibition/detail/index.vue页有一个编辑按钮， 只有当当前登录用户是展览的所有者时才显示该编辑按钮， 点击后跳转到展览编辑页面/home/sky/harmony/miniprogram/src/pages/exhibition/edit/index.vue，一个删除按钮， 点击后弹出确认删除对话框， 确认后删除展览并返回展览列表页面， 需要实现该功能， 更新相关代码实现。一个撤展按钮， 点击后弹出确认撤展对话框， 确认后将展览状态设置为已撤展并更新显示状态。一个开始展览按钮， 开始展览按钮， 点击后弹出确认开始展览对话框， 确认后将展览状态设置为已开始并更新显示状态， 需要实现该功能， 更新相关代码实现。
当删除作品时， 需要同时将该作品从所属的作品集和展览中删除， 更新相关代码实现

标签栏中的当前标签不要用下划线标记， 而是用高亮背景颜色标记当前标签， 提高用户体验。 同时AI click事件：Behavior名称为

/home/sky/harmony/miniprogram/src/pages/works/index.vue中的列表中的删除按钮去掉， 采用向左滑动后在右侧显示抽屉式删除按钮的方式来删除作品， 需要实现该功能， 更新相关代码实现

/home/sky/harmony/miniprogram/src/pages/works/index.vue中的删除按钮换成图标按钮， 提高用户体验
删除图标按钮浮动显示在作品缩略图的右上角， 需要实现该功能， 更新相关代码实现

将NavKey类型及其相关函数独立到/home/sky/harmony/miniprogram/src/utils/navKey.ts文件中， 以便在多个页面中引用使用， 更新相关代码实现

在/home/sky/harmony/miniprogram/src/pages/works/index.vue、/home/sky/harmony/miniprogram/src/pages/collections/index.vue中增加BottomNav组件， 以便在底部显示导航栏， 提高用户体验， 更新相关代码实现
/home/sky/harmony/miniprogram/src/pages/collections/detail/index.vue中增加BottomNav组件， 以便在底部显示导航栏， 提高用户体验， 更新相关代码实现

/home/sky/harmony/miniprogram/src/pages/exhibition/create/index.vue中展览信息去掉开始时间和结束时间。
可以选择一个作品集作为展览的内容来源， 在选择展品列表中只显示该作品集中的作品， 其他功能不变。增加一个优化模块，列出从已经从优化商城购买的优化组件和产品， 在第一行显示购买的商品的分类标签， 点击标签后在下方显示该分类下购买的商品列表， 允许用户选择一个或多个优化组件和产品加入到展览数据中提交到服务器器

/home/sky/harmony/miniprogram/src/pages/exhibition/create/index.vue中作品集选择不要用列表的方式， 作品集很多的话， 这个列表就太长了。 修改成弹出选择框的形式选择作品集， 需要实现该功能， 更新相关代码实现
必须至少选择一个作品才可以提交展览信息， 需要实现该功能， 更新相关代码实现

/home/sky/harmony/miniprogram/src/pages/optimize/index.vue优化商城列表需要从服务器获取， 不能使用本地的数据。 优化商城中主要是购买一些增强3d场景的性能和视觉效果的组件和产品， 比如大理石地面材质包，灯光增强包等， 有些是可以提供更多展示作品的功能， 默认是只能展示5张作品图片， 购买20张作品图片展示包后， 可以展示20张作品图片。 商城中的商品购买后，就归用户所有，需要区分一些商品在一个展览时只能使用一次， 一些商品不能同时使用，比如20张作品包，和50张作品包在都购买后，但是在创建展览时只能使用一个， 大理石地板和木地板同时购买后也只能选择一种， 但是可以都购买后放到仓库里，在创建展览时使用， 购买多次的商品累计购买数量， 比如购买了两次20张作品包， 那么在创建展览时只能使用一次， 仓库里的商品就减少一次。 商品的增加维护会在admin模块实现（先不实现）， 可以先默认在数据库中提供大理石地面材质包，木地面材质包，20张作品图片展示包，50张作品图片展示包等商品供测试使用， 需要实现该功能， 更新相关代码实现。一个撤展按钮，

将测试产品数据写入数据库中， 以便测试使用

从优化商城购买商品支付时，默认支付成功，但是要预留接口以便后续集成第三方支付功能，支付成功后， 将购买的商品加入到用户的仓库中以便在创建展览时使用， 并生成订单记录， /home/sky/harmony/miniprogram/src/pages/orders/index.vue页面实现订单列表页面， 显示当前登录用户的订单列表， 需要实现该功能， 更新相关代码实现。订单数据从服务器获取，订单详情页面中的数据要根据订单ID从服务器获取， 不能使用本地的数据。/home/sky/harmony/miniprogram/src/pages/optimize/detail/index.vue页面底部也增加BottomNav组件， 以便在底部显示导航栏， 提高用户体验， 更新相关代码实现